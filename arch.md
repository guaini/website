# 架构设计文档

## 整体架构

该网站的整体架构为MVC架构，即由模型，视图和控制器三部分组成。架构大致如下：

![arch](.\arch.png)

### 1. 视图

视图部分即前端界面，共有6个页面：

* 主页用于显示图片，提供搜索功能和跳转到其他页面的连接。
* 登录页面提供用户注册和用户登录的功能。
* 上传页面提供用户上传图片的功能，允许用户指定图片的名称以及tag的信息。
* 收藏页面允许用户查看自已收藏的图片和自己上传的图片。
* 详情页面提供对图片的点赞，收藏，查看详细信息的功能，上传者还可在该页面删除图片。
* 用户信息页面允许用户查看和修改自己的个人信息。

### 2. 控制器

控制器部分即后端的分发器(dispatcher)部分，主要由Django框架的url转发以及3个分发函数组成，用于将前端传来的请求根据具体类别分发到指定的处理函数对请求进行处理。

### 3. 模型

模型部分即后端的请求处理函数。如上图所示，每个请求函数用于处理一个具体的请求，请求函数会访问数据库并更新数据库中的信息，这是整个网站中唯一能与数据库交互的部分。请求处理完成后会将响应发送到分发器，再由分发器返回给前端。

## 前端交互

前端采用html+Vue的实现方式，用户直接点击网页进行交互，整体交互较为直观。

【网页1】

 截图：

![网页1](arch.assets\网页1.png)  



【网页2】

 截图：

![网页2](arch.assets\网页2.png)

 

【网页3】

截图：

![网页3](arch.assets\网页3.png)



【网页4】

截图：

![网页4](arch.assets\网页4.png)



【网页5】

截图：

![网页5](arch.assets\网页5.png)



【网页6】

截图： ![网页6](arch.assets\网页6.png)



【网页7】

截图：

![网页7](arch.assets\网页7.png)



## 后端模块

后端采用Django框架实现，大体上分为3个模块，如第一张图所示：

1. 用户模块：负责用户注册、登录，获取和更新用户信息。
2. 图片模块：负责图片上传，图片信息的获取，图片排序。
3. 搜索模块：负责搜索功能。

## 关键设计决策

* 前端采用html+Vue的实现方式，可便捷的实现界面且完成数据交互的功能。
* 后端采用Django框架实现，可以使用python快速进行开发，且提供了方便的数据库操作接口以及用户登录验证接口，避免了编写SQL语句以及编写用户登录验证逻辑的过程。
* 数据库采用SQLite，轻量化且使用方便。
* 后端模块间的分离是采用url以及分发函数结合实现的，模块在具体实现时分为了5块，由于图片上传需要对文件进行操作，因此将图片上传从图片模块中拆开来，而图片排序分为几个排序索引，因此也拆分出来，形成排序模块。